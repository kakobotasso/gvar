<%= form_for @interesteds do |i| %>

<% if @interesteds.errors.any? %>
    <div id="error_explanation">
      <ul class="error">
      <% @interesteds.errors.full_messages.each do |msg| %>
        <li><%= msg %></li>
      <% end %>
      </ul>
    </div>
  <% end %>

<ul>
    <li>
        <label>
            <span>Nome: </span><br/>
            <%= i.text_field :name, :class => "inputMedio input" %>
        </label>
    </li>
    
    <li>
        <label>
            <span>E-mail: </span><br/>
            <%= i.text_field :email, :class => "inputMedio input" %>
        </label>
    </li>
    
    <li>
        <label>
            <span>Telefone: </span><br/>
            <%= i.text_field :phone, :class => "inputMedio input" %>
        </label>
    </li>
    
    <li class="guardaSelect guardaSelectMedio">
        <label>
            <span>Situação: </span><br/>
            <%= i.select :situation, @situation, { :prompt => "Selecione a situação" }, :class => 'select selectMedio' %>
        </label>
    </li>

    <li>
        <label>
            <span>Interesses: </span><br/>
            <%= i.text_area :interest, :class => "inputMedio input" %>
        </label>
    </li>
    
    <li class="btEnviarForm">
        <%= i.submit %>
    </li>
    
</ul>
<% end %>

<script type="text/javascript">
    $(function(){
        $('#interested_phone').mask("(99) 9999-9999?9").live('focusout', function (event) {
                var target, phone, element;
                target = (event.currentTarget) ? event.currentTarget : event.srcElement;
                phone = target.value.replace(/\D/g, '');
                element = $(target);
                element.unmask();
                if(phone.length > 10) {
                    element.mask("(99) 99999-999?9");
                } else {
                    element.mask("(99) 9999-9999?9");
                }
            });
    });
</script>